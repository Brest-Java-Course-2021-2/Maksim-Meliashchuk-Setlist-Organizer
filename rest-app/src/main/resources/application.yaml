## REST server configuration

server:
  error:
    include-binding-errors: always
    include-exception: true
    include-message: always
  port: ${PORT:8088}

spring:

  flyway:
    enabled: true

  jackson:
    date-format: yyyy/MM/dd
    serialization:
      INDENT_OUTPUT: true
  jpa:
    show-sql: true

  main:
    allow-bean-definition-overriding: true

  profiles:
    active: dev, jpa

  security:
    config:
      authcode-flow: false
    oauth2:
      client:
        provider:
          keycloak:
            issuer-uri: http://localhost:8484/auth/realms/setlist_organizer_realm
        registration:
          keycloak:
            client-id: setlist_organizer_client
            client-secret: 2kciSwPQuIRhABJWMq4o6wJV01z5Cmss
            use-resource-role-mappings: true
            principal-attribute: preferred_username

springdoc:
  swagger-ui:
    csrf:
      enabled: true

management:
  endpoints:
    web:
      exposure:
        include: prometheus, health, info, metric
metrics:
  export:
    prometheus:
      enabled: true
